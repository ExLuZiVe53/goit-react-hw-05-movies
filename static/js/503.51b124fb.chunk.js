"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[503],{26:function(e,n,t){t.d(n,{IV:function(){return d},UC:function(){return o},Vp:function(){return p},kh:function(){return c},lw:function(){return m}});var r=t(861),a=t(757),u=t.n(a),s=t(243);function c(e){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("trending/movie/day?language=en-US",{signal:n.signal});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query,r=n.abortCTRL,e.next=3,s.Z.get("search/movie",{signal:r.signal,params:{query:t,language:"en-US",include_adult:!1,page:1}});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.abortCTRL,e.next=3,s.Z.get("movie/".concat(t,"}"),{signal:r.signal,params:{language:"en-US",include_adult:!1,append_to_response:"credits, reviews"}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.abortCTRL,e.next=3,s.Z.get("movie/".concat(t,"/credits?language=en-US"),{signal:r.signal});case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.abortCTRL,e.next=3,s.Z.get("movie/".concat(t,"/reviews?language=en-US"),{signal:r.signal});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.Z.defaults.baseURL="https://api.themoviedb.org/3/",s.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZjgyMWE2YmUzMjY1NGJkMjY3NjMzZjdjOWI5ZDlhMCIsInN1YiI6IjY1MjgwMzk1ZWE4NGM3MDBjYTBmNjIzYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-n54P2F2h1RraKP3sH1dW3Slpezw0___sA28I-UCyY",s.Z.defaults.headers.common.accept="application/json"},503:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(433),a=t(861),u=t(439),s=t(757),c=t.n(s),i=t(87),o=t(689),l=t(791),p=t(705),f=t(184),d={query:""},h=function(e){var n=e.handleSubmit;return(0,f.jsx)(p.J9,{initialValues:d,children:(0,f.jsxs)(p.l0,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;n(t.elements.query.value),t.reset()},className:"form",children:[(0,f.jsx)(p.gN,{className:"input",name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,f.jsx)("button",{type:"submit",className:"button",children:"Search video"}),(0,f.jsx)(p.Bc,{name:"searchImg",component:"div"})]})})},m=t(26),v=function(){var e=(0,l.useState)([]),n=(0,u.Z)(e,2),t=n[0],s=n[1],p=(0,i.lr)(),d=(0,u.Z)(p,2),v=d[0],g=d[1],y=v.get("query");(0,l.useEffect)((function(){var e=new AbortController,n=function(){var n=(0,a.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.current&&e.current.abort(),e=new AbortController,n.next=5,(0,m.UC)({query:y,abortCTRL:e});case 5:t=n.sent,s((0,r.Z)(t)),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e.abort()}}),[y]);var b=(0,o.TH)();return(0,f.jsxs)("div",{children:["Movies",(0,f.jsx)(h,{handleSubmit:function(e){if(""===y)return g({});g({query:e})}}),t&&(0,f.jsx)("ul",{children:t.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(i.OL,{to:"".concat(e.id),state:{from:b},children:e.title})},e.id)}))}),(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading..."}),children:(0,f.jsx)(o.j3,{})})]})}}}]);
//# sourceMappingURL=503.51b124fb.chunk.js.map